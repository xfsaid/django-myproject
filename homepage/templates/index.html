{% load static %}
<!DOCTYPE html>
<html>
<head>
  <!-- Standard Meta -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <!-- Site Properties -->
  <title>218 - Semantic</title>
  <link rel="stylesheet" type="text/css" href="{% static 'semantic/dist/semantic.min.css' %}" />
  <script src="{% static 'javascript/jquery.min.js' %}"></script>
  <script src="{% static 'semantic/dist/semantic.min.js' %}"></script>
</head>

<body>
<h1 class="ui center aligned header">218家教</h1>

<div class="container">
    <div class="ui one column stackable grid">
      <div class="three wide column">^</div>
      
      <div class="ten wide column">
        <div class="ui segment">
          <div class="ui top attached tabular menu">
          {% for grade_tab in grade_subject_info %}
            <a class="item {% if grade_tab.slug == grade_level %} active {%endif%}" data-tab="{{ grade_tab.slug }}">{{ grade_tab.level }}</a>
          {% endfor %}
          </div>

          {% for grade_tab in grade_subject_info %}
            <div class="ui bottom attached tab {% if grade_tab.slug == grade_level %} active {%endif%} segment" data-tab="{{ grade_tab.slug }}">
              {% for subject in grade_tab.subject.all %}
                {#<a href="{{grade_tab.slug}}-{{subject.slug}}">{{ subject.subject_name }} {% if not forloop.last%} | {%endif%} </a>#}
                <a href="?grade_level={{grade_tab.slug}}&subject_level={{subject.slug}}">{{ subject.subject_name }} {% if not forloop.last%} | {%endif%} </a>
              {% endfor %}
            </div>
          {% endfor %}
          
        </div>
      </div>

      <div class="three wide column">^</div>
    </div>
</div>


<div class="container">
<h3 class="ui center aligned header">符合条件的结果</h3>

<div class="ui container">
  <div class="ui relaxed divided items">
  {% for info in tec_info_list %}
    <div class="item">
      <div class="ui small image">
        <img src="{% static 'images/wy1.jpg' %}">
      </div>
      <div class="content">
        <a class="header">{{info.first_name}}</a>
        <div class="meta">
          <a>服务区域：{{info.area}} </a>
        </div>
        <div class="description">
          {{info.info}}
        </div>
      </div>
    </div>
  {% endfor %}
  </div>
</div>

<br><br><br>

<div class="ui container">
  <div class="ui page grid">
    <div class="ui borderless pagination menu">
      {% if  tec_info_list.has_previous %}
          <a class="item" href="?grade_level={{grade_level}}&subject_level={{subject_level}}&page={{ tec_info_list.previous_page_number }}"><i class="left arrow icon"></i>Previous</a>
      {% endif %}
      
      <a href="" class="item">{{ tec_info_list.number }}</a>

      {% if tec_info_list.has_next %}
          <a class="item" href="?grade_level={{grade_level}}&subject_level={{subject_level}}&page={{ tec_info_list.next_page_number }}"><i class="right arrow icon"></i>Next</a>
      {% endif %}
    </div>
  </div>
</div>

<br><br>


</div>


<!-- Content JS HERE !-->
<style>
  body{
    background-color: gray;
  }
  .last.container {
    margin-bottom: 300px !important;
  }
  h1.ui.center.header {
    margin-top: 3em;
  }
  h2.ui.center.header {
    margin: 4em 0em 2em;
  }
  h3.ui.center.header {
    margin-top: 2em;
    padding: 2em 0em;
  }
  .ui.vertical.menu{
    width:8rem;
  }
</style>

<script type="text/javascript">
$(document).ready(function() {

  var
    $headers     = $('body > h3'),
    $header      = $headers.first(),
    ignoreScroll = false,
    timer
  ;

  // Preserve example in viewport when resizing browser
  $(window)
    .on('resize', function() {
      // ignore callbacks from scroll change
      clearTimeout(timer);
      $headers.visibility('disable callbacks');

      // preserve position
      $(document).scrollTop( $header.offset().top );

      // allow callbacks in 500ms
      timer = setTimeout(function() {
        $headers.visibility('enable callbacks');
      }, 500);
    })
  ;
  $headers
    .visibility({
      // fire once each time passed
      once: false,

      // don't refresh position on resize
      checkOnRefresh: true,

      // lock to this element on resize
      onTopPassed: function() {
        $header = $(this);
      },
      onTopPassedReverse: function() {
        $header = $(this);
      }
    })
  ;
});
</script>

<script>
  $(document)
    .ready(function() {
      $('.ui.menu .ui.dropdown').dropdown({
        on: 'hover'
      });

      $('.menu .item')
        .tab()
      ;

      $('.ui.menu a.item')
        .on('click', function() {
          $(this)
            .addClass('active')
            .siblings()
            .removeClass('active')
          ;
        })
      ;
    })
  ;
  </script>


<script>
  $(".sql_button").click(function(){
    var text1 = $(this).text();
    var text2 = $($($(this).parent()).parent(".item")).text();
    alert(text1);
    alert(text2);
  });

</script>
</body>
</html>
